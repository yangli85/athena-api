I, [2016-02-08T16:56:40.205174 #7280]  INFO -- : Will send validate code to 18611979882
I, [2016-02-08T16:56:40.205257 #7280]  INFO -- : Validate code for 18611979882 is 
E, [2016-02-08T16:56:40.208572 #7280] ERROR -- : SMS sent failed.. NoMethodError - undefined method `to_json' for {:result=>"success"}:Hash /Users/yangli/beauty_show/athena-api/lib/common/helpers.rb:9:in `return_response'
/Users/yangli/beauty_show/athena-api/lib/api/authenticate_api.rb:10:in `block in <class:AuthenticateAPI>'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `block in compile!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `[]'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (3 levels) in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:994:in `route_eval'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (2 levels) in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1015:in `block in process_route'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `process_route'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:973:in `block in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `each'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1085:in `block in dispatch!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1082:in `dispatch!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `block in call!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `call!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:895:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/xss_header.rb:18:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/path_traversal.rb:16:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/json_csrf.rb:18:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/frame_options.rb:31:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/logger.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:212:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/head.rb:13:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/methodoverride.rb:22:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/show_exceptions.rb:25:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:182:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:2013:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/lint.rb:49:in `_call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/lint.rb:37:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/showexceptions.rb:24:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/commonlogger.rb:33:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:219:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/chunked.rb:54:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/content_length.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:541:in `handle_request'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:388:in `process_client'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:270:in `block in run'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/thread_pool.rb:106:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/thread_pool.rb:106:in `block in spawn_thread'
I, [2016-02-08T16:59:45.103312 #7317]  INFO -- : Will send validate code to 18611979882.
I, [2016-02-08T16:59:45.103378 #7317]  INFO -- : Validate code for 18611979882 was sent.
E, [2016-02-08T16:59:45.103476 #7317] ERROR -- : SMS sent failed.. ArgumentError - wrong number of arguments (1 for 2) /Users/yangli/beauty_show/athena-api/lib/common/helpers.rb:3:in `return_response'
/Users/yangli/beauty_show/athena-api/lib/api/authenticate_api.rb:9:in `block in <class:AuthenticateAPI>'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `block in compile!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `[]'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (3 levels) in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:994:in `route_eval'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (2 levels) in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1015:in `block in process_route'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `process_route'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:973:in `block in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `each'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1085:in `block in dispatch!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1082:in `dispatch!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `block in call!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `call!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:895:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/xss_header.rb:18:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/path_traversal.rb:16:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/json_csrf.rb:18:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/frame_options.rb:31:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/logger.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:212:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/head.rb:13:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/methodoverride.rb:22:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/show_exceptions.rb:25:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:182:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:2013:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/lint.rb:49:in `_call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/lint.rb:37:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/showexceptions.rb:24:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/commonlogger.rb:33:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:219:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/chunked.rb:54:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/content_length.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:541:in `handle_request'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:388:in `process_client'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:270:in `block in run'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/thread_pool.rb:106:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/thread_pool.rb:106:in `block in spawn_thread'
I, [2016-02-08T17:00:08.088400 #7322]  INFO -- : Will send validate code to 18611979882.
I, [2016-02-08T17:00:08.088458 #7322]  INFO -- : Validate code for 18611979882 was sent.
E, [2016-02-08T17:00:08.091957 #7322] ERROR -- : SMS sent failed.. NoMethodError - undefined method `to_json' for "{result: 'success'}":String /Users/yangli/beauty_show/athena-api/lib/common/helpers.rb:9:in `return_response'
/Users/yangli/beauty_show/athena-api/lib/api/authenticate_api.rb:10:in `block in <class:AuthenticateAPI>'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `block in compile!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `[]'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (3 levels) in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:994:in `route_eval'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (2 levels) in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1015:in `block in process_route'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `process_route'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:973:in `block in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `each'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1085:in `block in dispatch!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1082:in `dispatch!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `block in call!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `call!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:895:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/xss_header.rb:18:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/path_traversal.rb:16:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/json_csrf.rb:18:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/frame_options.rb:31:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/logger.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:212:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/head.rb:13:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/methodoverride.rb:22:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/show_exceptions.rb:25:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:182:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:2013:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/lint.rb:49:in `_call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/lint.rb:37:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/showexceptions.rb:24:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/commonlogger.rb:33:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:219:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/chunked.rb:54:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/content_length.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:541:in `handle_request'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:388:in `process_client'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:270:in `block in run'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/thread_pool.rb:106:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/thread_pool.rb:106:in `block in spawn_thread'
I, [2016-02-08T17:00:32.921327 #7331]  INFO -- : Will send validate code to 18611979882.
I, [2016-02-08T17:00:32.921400 #7331]  INFO -- : Validate code for 18611979882 was sent.
E, [2016-02-08T17:00:32.924870 #7331] ERROR -- : SMS sent failed.. NoMethodError - undefined method `to_json' for {:result=>"success"}:Hash /Users/yangli/beauty_show/athena-api/lib/common/helpers.rb:9:in `return_response'
/Users/yangli/beauty_show/athena-api/lib/api/authenticate_api.rb:9:in `block in <class:AuthenticateAPI>'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `block in compile!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `[]'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (3 levels) in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:994:in `route_eval'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (2 levels) in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1015:in `block in process_route'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `process_route'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:973:in `block in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `each'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1085:in `block in dispatch!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1082:in `dispatch!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `block in call!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `call!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:895:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/xss_header.rb:18:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/path_traversal.rb:16:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/json_csrf.rb:18:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/frame_options.rb:31:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/logger.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:212:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/head.rb:13:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/methodoverride.rb:22:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/show_exceptions.rb:25:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:182:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:2013:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/lint.rb:49:in `_call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/lint.rb:37:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/showexceptions.rb:24:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/commonlogger.rb:33:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:219:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/chunked.rb:54:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/content_length.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:541:in `handle_request'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:388:in `process_client'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:270:in `block in run'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/thread_pool.rb:106:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/thread_pool.rb:106:in `block in spawn_thread'
I, [2016-02-08T17:03:48.283958 #7568]  INFO -- : Will send validate code to 18611979882.
I, [2016-02-08T17:03:48.284040 #7568]  INFO -- : Validate code for 18611979882 was sent.
E, [2016-02-08T17:03:48.287240 #7568] ERROR -- : SMS sent failed.. NoMethodError - undefined method `to_json' for "aegwagagw":String /Users/yangli/beauty_show/athena-api/lib/common/helpers.rb:9:in `return_response'
/Users/yangli/beauty_show/athena-api/lib/api/authenticate_api.rb:10:in `block in <class:AuthenticateAPI>'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `block in compile!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `[]'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (3 levels) in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:994:in `route_eval'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (2 levels) in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1015:in `block in process_route'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `process_route'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:973:in `block in route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `each'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `route!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1085:in `block in dispatch!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1082:in `dispatch!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `block in call!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `call!'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:895:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/xss_header.rb:18:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/path_traversal.rb:16:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/json_csrf.rb:18:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-protection-1.5.3/lib/rack/protection/frame_options.rb:31:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/logger.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:212:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/head.rb:13:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/methodoverride.rb:22:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/show_exceptions.rb:25:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:182:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:2013:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/lint.rb:49:in `_call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/lint.rb:37:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/showexceptions.rb:24:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/commonlogger.rb:33:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/sinatra-1.4.7/lib/sinatra/base.rb:219:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/chunked.rb:54:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/rack-1.6.4/lib/rack/content_length.rb:15:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:541:in `handle_request'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:388:in `process_client'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/server.rb:270:in `block in run'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/thread_pool.rb:106:in `call'
/Users/yangli/.rvm/gems/ruby-2.2.0@athena-api/gems/puma-2.15.3/lib/puma/thread_pool.rb:106:in `block in spawn_thread'
I, [2016-02-08T17:07:07.369133 #7621]  INFO -- : Will send validate code to 18611979882.
I, [2016-02-08T17:07:07.369203 #7621]  INFO -- : Validate code for 18611979882 was sent.
I, [2016-02-09T00:30:14.698107 #2766]  INFO -- : Will send validate code to .
I, [2016-02-09T00:30:14.698170 #2766]  INFO -- : Validate code for  was sent.
I, [2016-02-09T00:30:20.991221 #2766]  INFO -- : Will send validate code to .
I, [2016-02-09T00:30:20.991276 #2766]  INFO -- : Validate code for  was sent.
I, [2016-02-09T00:32:48.239316 #2766]  INFO -- : Will send validate code to .
I, [2016-02-09T00:32:48.239373 #2766]  INFO -- : Validate code for  was sent.
I, [2016-02-09T00:32:56.083250 #2803]  INFO -- : Will send validate code to .
I, [2016-02-09T00:32:56.083311 #2803]  INFO -- : Validate code for  was sent.
I, [2016-02-09T00:33:08.311660 #2803]  INFO -- : Will send validate code to .
I, [2016-02-09T00:33:08.311707 #2803]  INFO -- : Validate code for  was sent.
I, [2016-02-09T00:58:22.206655 #2803]  INFO -- : Will send validate code to .
I, [2016-02-09T00:58:22.206721 #2803]  INFO -- : Validate code for  was sent.
I, [2016-02-09T01:02:55.912259 #2803]  INFO -- : Will send validate code to .
I, [2016-02-09T01:02:55.912310 #2803]  INFO -- : Validate code for  was sent.
I, [2016-02-09T01:04:25.718863 #2803]  INFO -- : Will send validate code to .
I, [2016-02-09T01:04:25.718910 #2803]  INFO -- : Validate code for  was sent.
I, [2016-02-11T15:13:36.421700 #2854]  INFO -- : Will send validate code to .
I, [2016-02-11T15:13:36.421758 #2854]  INFO -- : Validate code for  was sent.
I, [2016-02-11T15:37:32.524600 #3140]  INFO -- : Will send validate code to .
I, [2016-02-11T15:37:32.524649 #3140]  INFO -- : Validate code for  was sent.
I, [2016-02-11T15:39:16.486561 #3156]  INFO -- : Will send validate code to .
I, [2016-02-11T15:39:16.486613 #3156]  INFO -- : Validate code for  was sent.
I, [2016-02-11T15:39:16.515024 #3156]  INFO -- : Will send validate code to .
I, [2016-02-11T15:39:16.515060 #3156]  INFO -- : Validate code for  was sent.
I, [2016-02-11T15:39:49.725769 #3156]  INFO -- : Will send validate code to .
I, [2016-02-11T15:39:49.725813 #3156]  INFO -- : Validate code for  was sent.
I, [2016-02-11T15:40:37.588249 #3165]  INFO -- : Will send validate code to .
I, [2016-02-11T15:40:37.588298 #3165]  INFO -- : Validate code for  was sent.
I, [2016-02-11T15:40:37.889360 #3165]  INFO -- : Will send validate code to .
I, [2016-02-11T15:40:37.889413 #3165]  INFO -- : Validate code for  was sent.
